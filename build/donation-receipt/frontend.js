(()=>{"use strict";var e={338:(e,t,n)=>{var r=n(795);t.H=r.createRoot,r.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=window.React;var t=n(338);const r=window.wp.domReady;var a=n.n(r);const l=window.wp.element,o=window.wp.i18n;function d(e){return new Date(e).toLocaleDateString()}const u=()=>{var t;const[n,r]=(0,l.useReducer)(((e,t)=>({...e,...t})),{isLoaded:!1,isError:!1,baseURL:null!==(t=window.fundySettings.baseURL)&&void 0!==t?t:null,donation:null}),{isLoaded:a,isError:u,baseURL:c,donation:i}=n;return(0,l.useEffect)((()=>{const e=function(){const e=new URLSearchParams(window.location.search);return{donationId:e.get("donation_id")||null,token:e.get("token")||null,expiry:e.get("expiry")||null}}();e.donationId&&e.token&&e.expiry&&c||r({isLoaded:!0,isError:!0});const t={donation_id:e.donationId,token:e.token,expiry:e.expiry},n=new URLSearchParams(t).toString();fetch(c+"/api/v1/donation/receipt?"+n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((e=>{r({isLoaded:!0,isError:!1,donation:e})})).catch((()=>{r({isLoaded:!0,isError:!0})}))}),[c]),a?u||!i?(0,e.createElement)(l.Fragment,null,(0,e.createElement)("p",null,(0,o.__)("Unfortunately, we were unable to load the details for the donation at this moment; the link may have expired.","fundy"))):(0,e.createElement)(l.Fragment,null,(0,e.createElement)("table",null,(0,e.createElement)("tbody",null,i&&i.company_name?(0,e.createElement)(l.Fragment,null,i.company_name&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,o.__)("Company name","fundy")),(0,e.createElement)("td",null,i.company_name)),i.first_name&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,o.__)("Contact person","fundy")),(0,e.createElement)("td",null,i.first_name+" "+i?.last_name)),i.created_at&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,o.__)("Date","fundy")),(0,e.createElement)("td",null,d(i.created_at))),i.amount&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,o.__)("Total amount","fundy")),(0,e.createElement)("td",null,i.amount)),i.invoice_url&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,o.__)("Invoice","fundy")),(0,e.createElement)("td",null,(0,e.createElement)("a",{href:i.invoice_url},(0,o.__)("Download invoice","fundy")," ","â‡’")))):(0,e.createElement)(l.Fragment,null,i.first_name&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,o.__)("Name","fundy")),(0,e.createElement)("td",null,i.first_name+" "+i?.last_name)),i.created_at&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,o.__)("Date","fundy")),(0,e.createElement)("td",null,d(i.created_at))),i.amount&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,o.__)("Total amount","fundy")),(0,e.createElement)("td",null,i.amount)))))):null};a()((function(){document.querySelectorAll(".fundy-receipt").forEach((n=>{(0,t.H)(n).render((0,e.createElement)(u,null))}))}))})()})();