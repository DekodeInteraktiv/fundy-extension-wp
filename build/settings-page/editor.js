(()=>{"use strict";var e={338:(e,t,n)=>{var a=n(795);t.H=a.createRoot,a.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const a=window.React;var o=n(338);const i=window.wp.i18n,r=window.wp.components,s=window.wp.element,c=window.wp.data,l=window.wp.domReady;var d=n.n(l);const u=window.wp.api;var m=n.n(u);const p=window.wp.notices,w=()=>{const e=(0,c.useSelect)((e=>e(p.store).getNotices().filter((e=>"snackbar"===e.type))),[]),{removeNotice:t}=(0,c.useDispatch)(p.store);return(0,a.createElement)(r.SnackbarList,{className:"edit-site-notices",notices:e,onRemove:t})};function v(){const[e,t]=(0,s.useReducer)(((e,t)=>({...e,...t})),{isLoaded:!1,apiToken:""}),{isLoaded:n,apiToken:o}=e;return(0,s.useEffect)((()=>{m().loadPromise.then((()=>{const e=new(m().models.Settings);!1===n&&e.fetch().then((e=>{var n;t({apiToken:null!==(n=e.fundraising_option_token)&&void 0!==n?n:"",isLoaded:!0})}))}))}),[n]),(0,a.createElement)(s.Fragment,null,(0,a.createElement)("div",{className:"fundy__header"},(0,a.createElement)("div",{className:"fundy__container"},(0,a.createElement)("div",{className:"fundy__title"},(0,a.createElement)("h1",null,(0,i.__)("Fundy Settings","fundy")," ",(0,a.createElement)(r.Icon,{icon:"admin-plugins"}))))),(0,a.createElement)("div",{className:"components-panel"},(0,a.createElement)(r.PanelBody,{title:"General"},(0,a.createElement)("p",null,"The plugin must authenticate with the Fundy server to work, please provide the details below."),(0,a.createElement)(r.TextControl,{help:(0,i.__)("The API token for your Fundy organization.","fundy"),label:(0,i.__)("Fundy API Token","fundy"),onChange:e=>t({apiToken:e}),value:o}))),(0,a.createElement)("div",{className:"fundy__save"},(0,a.createElement)(r.Button,{variant:"primary",onClick:()=>{new(m().models.Settings)({fundraising_option_token:o}).save(),(0,c.dispatch)("core/notices").createNotice("success",(0,i.__)("Settings Saved","fundy"),{type:"snackbar",isDismissible:!0})}},(0,i.__)("Save","fundy"))),(0,a.createElement)("div",{className:"fundy__notices"},(0,a.createElement)(w,null)))}d()((function(){const e=document.getElementById("fundraising-plugin-settings");e&&(0,o.H)(e).render((0,a.createElement)(v,null))}))})();