{"version":3,"file":"index.js","mappings":"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","sources":["webpack://donations-extension-wp/./inc/extension-library/settings-page/src/components/Notices/Notices.js","webpack://donations-extension-wp/./inc/extension-library/settings-page/src/components/Notices/index.js","webpack://donations-extension-wp/./inc/extension-library/settings-page/src/style.css?31d3","webpack://donations-extension-wp/external window \"React\"","webpack://donations-extension-wp/external window [\"wp\",\"api\"]","webpack://donations-extension-wp/external window [\"wp\",\"components\"]","webpack://donations-extension-wp/external window [\"wp\",\"data\"]","webpack://donations-extension-wp/external window [\"wp\",\"domReady\"]","webpack://donations-extension-wp/external window [\"wp\",\"element\"]","webpack://donations-extension-wp/external window [\"wp\",\"i18n\"]","webpack://donations-extension-wp/external window [\"wp\",\"notices\"]","webpack://donations-extension-wp/webpack/bootstrap","webpack://donations-extension-wp/webpack/runtime/compat get default export","webpack://donations-extension-wp/webpack/runtime/define property getters","webpack://donations-extension-wp/webpack/runtime/hasOwnProperty shorthand","webpack://donations-extension-wp/webpack/runtime/make namespace object","webpack://donations-extension-wp/./inc/extension-library/settings-page/src/index.js"],"sourcesContent":["/**\n * External Imports.\n */\nimport React from 'react';\n\n/**\n * Internal Imports.\n */\nimport {\n\tuseDispatch,\n\tuseSelect,\n} from '@wordpress/data';\n\nimport { SnackbarList } from '@wordpress/components';\n\nimport { store as noticesStore } from '@wordpress/notices';\n\nconst Notices = () => {\n\tconst notices = useSelect(\n\t\t( select ) =>\n\t\t\tselect( noticesStore )\n\t\t\t\t.getNotices()\n\t\t\t\t.filter( ( notice ) => notice.type === 'snackbar' ),\n\t\t[]\n\t);\n\n\tconst { removeNotice } = useDispatch( noticesStore );\n\n\treturn (\n\t\t<SnackbarList\n\t\t\tclassName=\"edit-site-notices\"\n\t\t\tnotices={ notices }\n\t\t\tonRemove={ removeNotice }\n\t\t/>\n\t);\n};\n\nexport default Notices;\n","import Component from './Notices';\n\nexport default Component;\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"api\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * External Imports.\n */\nimport React, { useEffect, useReducer } from 'react';\n\n/**\n * Internal Imports.\n */\nimport { __ } from '@wordpress/i18n';\n\nimport {\n\tButton,\n\tIcon,\n\tTextControl,\n\tPanelBody,\n} from '@wordpress/components';\n\nimport {\n\tFragment,\n\tcreateRoot,\n} from '@wordpress/element';\n\nimport { dispatch } from '@wordpress/data';\nimport domReady from '@wordpress/dom-ready';\nimport api from '@wordpress/api';\n\nimport Notices from './components/Notices';\n\nimport './style.css';\n\nfunction Settings() {\n\tconst [ state, setState ] = useReducer(\n\t\t( s, a ) => ({ ...s, ...a }),\n\t\t{\n\t\t\tisLoaded: false,\n\t\t\tapiToken: '',\n\t\t}\n\t);\n\n\tconst {\n\t\tisLoaded,\n\t\tapiToken,\n\t} = state;\n\n\tuseEffect(() => {\n\t\tapi.loadPromise.then(() => {\n\t\t\tconst settings = new api.models.Settings();\n\n\t\t\tif (false === isLoaded) {\n\t\t\t\tsettings.fetch().then((response) => {\n\t\t\t\t\tsetState({\n\t\t\t\t\t\tapiToken: response.donations_option_token ?? '',\n\t\t\t\t\t\tisLoaded: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t} );\n\t}, []);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"donations__header\">\n\t\t\t\t<div className=\"donations__container\">\n\t\t\t\t\t<div className=\"donations__title\">\n\t\t\t\t\t\t<h1>{__('Donations Settings', 'donations')} <Icon icon=\"admin-plugins\" /></h1>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"components-panel\">\n\t\t\t\t<PanelBody title=\"General\">\n\t\t\t\t\t<p>The plugin must authenticate with the Fundy server to work, please provide the details below.</p>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\thelp={__('The API token for your Fundy organization.', 'donations')}\n\t\t\t\t\t\tlabel={__('Fundy API Token', 'donations')}\n\t\t\t\t\t\tonChange={(value) => setState({ apiToken: value })}\n\t\t\t\t\t\tvalue={apiToken}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</div>\n\t\t\t<div className=\"donations__save\">\n\t\t\t\t<Button\n\t\t\t\t\tisPrimary\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tconst settings = new api.models.Settings({\n\t\t\t\t\t\t\tdonations_option_token: apiToken,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsettings.save();\n\n\t\t\t\t\t\tdispatch('core/notices').createNotice(\n\t\t\t\t\t\t\t'success',\n\t\t\t\t\t\t\t__('Settings Saved', 'donations'),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\tisDismissible: true,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t>{__('Save', 'donations')}</Button>\n\t\t\t</div>\n\t\t\t<div className=\"donations__notices\">\n\t\t\t\t<Notices />\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n}\n\ndomReady(function () {\n\tconst elem = document.getElementById('donations-plugin-settings');\n\n\tif (elem) {\n\t\tconst root = createRoot(elem);\n\t\troot.render(<Settings />);\n\t}\n});\n"],"names":["React","useDispatch","useSelect","SnackbarList","store","noticesStore","Notices","notices","select","getNotices","filter","notice","type","removeNotice","createElement","className","onRemove","Component","useEffect","useReducer","__","Button","Icon","TextControl","PanelBody","Fragment","createRoot","dispatch","domReady","api","Settings","state","setState","s","a","isLoaded","apiToken","loadPromise","then","settings","models","fetch","response","_response$donations_o","donations_option_token","icon","title","help","label","onChange","value","isPrimary","onClick","save","createNotice","isDismissible","elem","document","getElementById","root","render"],"sourceRoot":""}